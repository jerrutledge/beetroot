[gd_scene load_steps=6 format=2]

[ext_resource path="res://src/dialogue/DialogBox.gd" type="Script" id=1]
[ext_resource path="res://assets/art/ui/Leafcr.png" type="Texture" id=2]
[ext_resource path="res://assets/theme/new_ui_theme.tres" type="Theme" id=3]
[ext_resource path="res://addons/paulloz.ink/InkPlayer.cs" type="Script" id=4]
[ext_resource path="res://assets/stories/upon.json" type="Resource" id=5]

[node name="DialogBox" type="ColorRect"]
pause_mode = 1
anchor_left = 0.7
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource( 1 )

[node name="Name" type="RichTextLabel" parent="."]
anchor_left = 0.1
anchor_right = 0.9
margin_left = -0.600002
margin_top = 53.0
margin_right = -0.399963
margin_bottom = 121.0
theme = ExtResource( 3 )
text = "NAME"

[node name="Text" type="RichTextLabel" parent="."]
anchor_left = 0.1
anchor_right = 0.9
margin_left = -0.600002
margin_top = 143.0
margin_right = -0.399963
margin_bottom = 419.0
theme = ExtResource( 3 )
text = "Text"

[node name="Timer" type="Timer" parent="."]

[node name="Options" type="VBoxContainer" parent="."]
anchor_left = 0.1
anchor_top = 1.0
anchor_right = 0.9
anchor_bottom = 1.0
margin_bottom = -150.0
grow_vertical = 0
size_flags_vertical = 3
theme = ExtResource( 3 )
alignment = 2

[node name="Timer2" type="Timer" parent="."]
wait_time = 0.1

[node name="Control" type="Control" parent="."]
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_top = -120.0

[node name="Button" type="Button" parent="Control"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -76.5
margin_top = -42.0
margin_right = 76.5
margin_bottom = 42.0
icon = ExtResource( 2 )
expand_icon = true

[node name="InkPlayer" type="Node" parent="."]
script = ExtResource( 4 )
autoLoadStory = true
story = ExtResource( 5 )

[connection signal="pressed" from="Control/Button" to="." method="_on_Leaf_button_pressed"]
[connection signal="InkChoices" from="InkPlayer" to="." method="_on_story_choices"]
[connection signal="InkContinued" from="InkPlayer" to="." method="_on_story_continued"]
[connection signal="InkEnded" from="InkPlayer" to="." method="_on_story_ink_ended"]
